<form class="receipt-form" [formGroup]="receiptForm" (ngSubmit)="saveReceiptFormData()">
  <div class="form-group">
    <label for="store">Nazwa sklepu</label>
    <div class="row">
      <select id="store" formControlName="store" class="form-control w-50">
        <option></option>
        <option *ngFor="let store of stores" [ngValue]="store">{{store?.StoreName}}</option>
      </select>
      <i class="fa fa-spinner fa-fw fa-pulse fa-2x  ml-3" *ngIf="formUpdatingProgress?.updatingStore"></i>
    </div>
  </div>
  <div class="form-group">
    <label for="receiptDate">Data paragonu</label>
    <div class="row">
      <input type="date" id="receiptDate" formControlName="shoppingDate" class="form-control w-50" />
      <i class="fa fa-spinner fa-fw fa-pulse fa-2x  ml-3" *ngIf="formUpdatingProgress?.updatingShoppingDate"></i>
    </div>
  </div>
  <div class="form-group">
    <label for="totalAmount">Wartość paragonu</label>
    <div class="row">
      <input type="number" id="totalAmount" formControlName="totalAmount" class="form-control w-50" />
      <i class="fa fa-spinner fa-fw fa-pulse fa-2x  ml-3" *ngIf="formUpdatingProgress?.updatingTotalAmount"></i>
    </div>
  </div>
  <div class="form-group">
    <label for="items">Produkty</label>
    <i class="fa fa-spinner fa-fw fa-pulse fa-2x" style="margin-left: 46%"
      *ngIf="formUpdatingProgress?.updatingReceiptItems"></i>
    <div *ngIf="itemsForm.controls.length == 0">
      Brak produktów
    </div>
    <ul class="list-group">
      <div formArrayName="items" *ngFor="let item of itemsForm.controls; let i = index">
        <li [formGroupName]="i" class="list-group-item list-group-item-light d-flex px-0 border-0">
          <input type="text" formControlName="productName" class="form-control mr-1 product-name" />
          <input type="number" formControlName="productsQuantity" class="form-control quantity-control mr-1 " />
          <input type="number" formControlName="productPrice" class="form-control productprice-control mr-1" />
          <select formControlName="productCategory" class="form-control category-control w-25">
            <option></option>
            <option *ngFor="let category of productCategories" [ngValue]="category">{{category.CategoryName}}</option>
          </select>
          <i class="fa fa-times text-danger ml-2 fa-2x" (click)="removeReceiptItem(item)"></i>
        </li>
      </div>
    </ul>
  </div>
  <button type="submit" class="btn btn-success my-4">Zapisz dane</button>
</form>